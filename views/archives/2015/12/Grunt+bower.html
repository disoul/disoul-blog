<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="/static/public/bower_components/material-design-lite/material.css" rel="stylesheet"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><link href="/static/public/css/article.css" rel="stylesheet"><title>使用 Grunt+Bower 管理前端</title></head><body><div class="mdl-layout mdl-js-layout"><header class="mdl-layout__header mdl-layout__header--waterfall"><div class="mdl-layout__header-row"><a href="/" class="mdl-layout-title">My Blog</a><div class="mdl-layout-spacer"></div><div class="mdl-layout-spatfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-rightl mdl-textfield--align-right"><label for="waterfall-exp" class="mdl-button mdl-js-button mdl-button--icon"><i class="material-icons">search</i></label><div class="mdl-textfield__expandable-holder"><input type="text" name="sample" id="waterfall-exp" class="mdl-textfield__input"></div></div></div><div class="mdl-layout__header-row"><div class="mdl-layout-spacer"></div><nav class="mdl-navigation"><a href="/" class="mdl-navigation__link">Home</a><a href="/tag/index.html" class="mdl-navigation__link">Tags</a><a href="/archives/index.html" class="mdl-navigation__link">Archives</a><a href="" class="mdl-navigation__link">AboutMe</a></nav></div></header><div class="mdl-layout__drawer"><span class="mdl-layout-title">My Blog</span><nav class="mdl-navigation"><a href="/" class="mdl-navigation__link">Home</a><a href="/tag/index.html" class="mdl-navigation__link">Tags</a><a href="/archives/index.html" class="mdl-navigation__link">Archives</a><a href="" class="mdl-navigation__link">AboutMe</a></nav></div><main id="main" class="mdl-layout__content"><div class="page-content"><div id="article-block"><h2 class="title">使用 Grunt+Bower 管理前端</h2><div class="tags"><a href="/tag/web.html">web</a><a href="/tag/博客搭建.html">博客搭建</a></div><div class="article-content"><h1>介绍</h1>
<h3>Grunt</h3>
<p>下面是官网的介绍<br>
Grunt是基于Node.js的项目构建工具。它可以自动运行你所设定的任务。Grunt拥有数量庞大的插件,几乎任何你所要做的事情都可以用Grunt实现。</p>
<h3>Bower</h3>
<p>简单来说是一个用来解决各个web工具依赖关系，一个web下的包管理器</p>
<h1>思路</h1>
<p>使用Bower管理我的如jquery,bootstrp之类的资源，然后使用Grunt统一部署到服务器static下的lib文件夹<br>
因为刚刚接触Grunt，所以打算先做点简单的实现<br>
@@</p>
<h1>实现</h1>
<h2>Node环境</h2>
<p>首先这两个都是基于Node的，所以需要在机器上支持Node.js<br>
从https://nodejs.org/官网下载源码包<br>
解压后执行命令编译，编译顺利的话就可以通过<code>node</code>和<code>npm</code>命令查看版本了</p>
<pre><code class="language-sh">./configure
make
make install
</code></pre>
<h2>Grunt</h2>
<h3>安装GruntCLI</h3>
<p><code>npm install -g grunt-cli</code><br>
上述命令执行完后，<code>grunt</code> 命令就被加入到你的系统路径中了，以后就可以在任何目录下执行此命令了。</p>
<p>注意，安装<code>grunt-cli</code>并不等于安装了 <code>Grunt</code>！<code>Grunt CLI</code>的任务很简单：调用与<code>Gruntfile</code>在同一目录中 Grunt。这样带来的好处是，允许你在同一个系统上同时安装多个版本的 <code>Grunt</code>。</p>
<h3>Package.js&amp;Gruntfile</h3>
<p><code>grunt</code>的使用依赖与<code>package.json</code>和<code>Gruntfile</code><br>
<code>package.json</code>应当放置于项目的根目录中，与<code>Gruntfile</code>在同一目录中，并且应该与项目的源代码一起被提交。在<code>package.json</code>所在目录中运行npm install将依据<code>package.json</code>文件中所列出的每个依赖来自动安装适当版本的依赖。<br>
输入命令<code>npm init</code>创建一个基本的package.json文件<br>
参考：我的<code>package.json</code>&lt;a href=&quot;https://github.com/disoul/disoul-blog/blob/master/package.json&quot;&gt;在这里&lt;/a&gt;<br>
<code>devDependencies</code>下列出需要的包，其他的一些如作者、认证的写法规范可以参照<br>
&lt;a href=&quot;https://docs.npmjs.com/files/package.json&quot;&gt;Specifics of npm's package.json handling&lt;/a&gt;</p>
<p>接下来生成<code>Gruntfile</code>，<code>Gruntfile.js</code> 或 <code>Gruntfile.coffee</code> 文件是有效的 <code>JavaScript</code> 或 <code>CoffeeScript</code> 文件，应当放在你的项目根目录中，和<code>package.json</code>文件在同一目录层级，并和项目源码一起加入源码管理器。<br>
我们可以通过<code>grunt-init</code>，简单生成一个Gruntfile，具体关于Gruntfile&lt;a href=&quot;http://www.gruntjs.net/getting-started#gruntfile&quot;&gt;戳这里&lt;/a&gt;</p>
<pre><code class="language-sh">npm install grunt-init -g
git <span class="hljs-built_in">clone</span> https://github.com/gruntjs/grunt-init-gruntfile.git ~/.grunt-init/gruntfile
grunt-init gruntfile
</code></pre>
<h3>安装Grunt</h3>
<p><code>npm install grunt --save-dev</code></p>
<h2>Bower</h2>
<h3>安装</h3>
<p><code>npm install bower -g</code></p>
<h3>使用</h3>
<p>比如，我想安装jquery到我的项目，只需要简单地键入<br>
<code>bower install jquery</code><br>
<code>install</code>后面跟的参数需要是一个git仓库的地址，或者是一些大家都用的库可以直接输名字（如 jquery）<br>
因为我的项目还有font-awesome，所以继续输入<br>
<code>bower install font-awesome</code><br>
之后这2个库就会下载在你当前目录下一个叫bower_components文件夹内<br>
接下来要做的就是用Grunt把bower生成的库拷贝到我项目的static下</p>
<h2>使用grunt-bower-task</h2>
<h3>安装</h3>
<p><code>npm install grunt-bower-task --save-dev</code></p>
<h3>配置Gruntfile</h3>
<p>&lt;a href=&quot;https://www.npmjs.com/package/grunt-bower-task&quot;&gt;grunt-bower-task文档&lt;/a&gt;<br>
将<code>grunt.loadNpmTasks('grunt-bower-task')</code>放在Gruntfile中module.exports函数内</p>
<p>在<code>grunt.initConfig</code>内加入一个名为<code>bower</code>的数据<br>
类似这种结构</p>
<pre><code class="language-js">grunt.initConfig({
  bower: {
    install: {
      options: {
		<span class="hljs-string">"targetDir"</span>: ..., <span class="hljs-comment">//拷贝bower到目标地址</span>
		<span class="hljs-string">"layout"</span>: ..., <span class="hljs-comment">//拷贝后bower内各个库在文件夹内的布局  </span>
                         <span class="hljs-string">"byType"</span>按照js/css/html分<span class="hljs-number">3</span>个文件夹  
						 <span class="hljs-string">"byComponent"</span>按照各个库的不同分文件夹  
		<span class="hljs-string">"cleanTargetDir"</span>: ... <span class="hljs-comment">//是否在install前清空`tatgetdir`</span>
		...
		...
	 }
    }
  }
});
</code></pre>
<p>关于具体的options配置信息请参考上方的文档地址</p>
<p>###实现<br>
最后运行<br>
<code>grunt bower</code><br>
再结合ignore就实现了我想要的效果<br>
于是下一步准备用Grunt实现自动编译scss，下回再弄</p>
</div></div></div><footer class="mdl-mini-footer"><div class="mdl-mini-footer__left-section"><div class="mdl-logo"> 
My Blog <i class="material-icons">person</i> Disoul</div></div></footer></main></div></body></html><script src="/static/public/bower_components/material-design-lite/material.min.js"></script>